{% extends "base.html" %}
{% block content %}

<form action="/edit_event" method="POST">
<!-- Display event data -->

{% if event %}
{% for i in event %}
    

<dl class="row">
    <dt class="col-sm-3">Collecting-event ID</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="eventID" aria-describedby="eventID" value="{{i.eventID}}" name="eventID"></dd>
    <p></p>
    <dt class="col-sm-3">Country</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="Country" aria-describedby="Country" value="{{i.countryCode}}" name="countryCode"></dd>
    <dt class="col-sm-3">State/Province</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="stateProvince" aria-describedby="stateProvince" value="{{i.stateProvince}}" name="stateProvince"></dd>
    <dt class="col-sm-3">County</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="County" aria-describedby="County" value="{{i.county}}" name="county"></dd>
    <dt class="col-sm-3">Municipality</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="municipality" aria-describedby="municipality" value="{{i.municipality}}" name="municipality"></dd>
    <dt class="col-sm-3">Habitat</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="habitat" aria-describedby="habitat" value="{{i.habitat}}" name="habitat"></dd>
    <dt class="col-sm-3">Locality 1</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="locality_1" aria-describedby="locality_1" value="{{i.locality_1}}" name="locality_1"></dd>
    <dt class="col-sm-3">Locality 2</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="locality_2" aria-describedby="locality_2" value="{{i.locality_2}}" name="locality_2"></dd>
    <dt class="col-sm-3">Method</dt>
    <dd class="col-sm-9">
            <select class="form-select" aria-label="samplingProtocol" name="samplingProtocol" value="{{i.samplingProtocol}}">
            {% for o in met %}
            {% if o.ID == i.samplingProtocol %}
            <option selected={{ o.ID }}>{{ o.samplingProtocol }}</option>
            {% else %}
            <option value={{ o.ID }}>{{ o.samplingProtocol }}</option>
            {% endif %}
            {% endfor %}
        </select>
    </dd>
    <dt class="col-sm-3">Date 1</dt>
    <dd class="col-sm-9"><input type="date" class="form-control" id="eventDate_1" aria-describedby="eventDate_1" value="{{i.eventDate_1}}" name="eventDate_1"></dd>
    <dt class="col-sm-3">Date 2</dt>
    <dd class="col-sm-9"><input type="date" class="form-control" id="eventDate_2" aria-describedby="eventDate_2" value="{{i.eventDate_2}}" name="eventDate_2"></dd>
    <dt class="col-sm-3">Recorded by</dt>
    <dd class="col-sm-9">
        <select class="form-select" multiple id="recordedBy" aria-label="recordedBy" value="{{i.recordedBy}}" name="recordedBy">
            <option selected>{{ i.recordedBy }}</option>
            {% for o in leg %}
            <option value="{{ o.recordedBy }}">{{ o.recordedBy }}</option>
            {% endfor %}
        </select>
    </dd>
</dl>
<h5>Coordinates</h5>
<dl class="row">
    <dt class="col-sm-3">Latitude</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="decimalLatitude" aria-describedby="decimalLatitude" value="{{i.decimalLatitude}}" name="decimalLatitude"></dd>
    <dt class="col-sm-3">Longitude</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="decimalLongitude" aria-describedby="decimalLongitude" value="{{i.decimalLongitude}}" name="decimalLongitude"></dd>
    <dt class="col-sm-3">Radius</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="coordinateUncertaintyInMeters" aria-describedby="coordinateUncertaintyInMeters" value="{{i.coordinateUncertaintyInMeters}}" name="coordinateUncertaintyInMeters"></dd>
</dl>
<h5>Substrate</h5>
<dl class="row">
    <dt class="col-sm-3">Name</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="substrateName" aria-describedby="substrateName" value="{{i.substrateName}}" name="substrateName"></dd>
    <dt class="col-sm-3">Part</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="substratePlantPart" aria-describedby="substratePlantPart" value="{{i.substratePlantPart}}" name="substratePlantPart"></dd>
    <dt class="col-sm-3">Type</dt>
    <dd class="col-sm-9"><input type="text" class="form-control" id="substrateType" aria-describedby="substrateType" value="{{i.substrateType}}" name="substrateType"></dd>
</dl>
<h5>Remarks</h5>
    <dd class="col-sm-9"><input type="text" class="form-control" id="eventRemarks" aria-describedby="eventRemarks" value="{{i.eventRemarks}}" name="eventRemarks"></dd>
<br />
{% endfor %}
    
<p></p>
<!-- Show images -->
{% for i in files %}
<strong>Image {{loop.index}}:</strong> 
{{i.imageCategory}}:
<dd class="col-sm-9"><input type="text" class="form-control" id="imageCategory" aria-describedby="imageCategory" value="{{i.imageCategory}}" name="imageCategory"></dd>
<br />
    <dd class="col-sm-9"><input type="text" class="form-control" id="comment" aria-describedby="comment" value="{{i.comment}}" name="comment"></dd>
<div>
    <img src="static/images/{{i.filename}}" onclick="window.open(this.src, '_blank');" height="200">
</div>
<br />
{% endfor %}
    
    
{% endif %}

    <!-- Button -->
    <div class="mb-3">
        <button type="submit" class="btn btn-success btn-lg" name="action1" value="VALUE1">Update</button>
    </div>

</form>
    
{% endblock %}